{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-a9d6f444\"],{\"0509\":function(e,t,n){},2017:function(e,t,n){\"use strict\";var o=n(\"cafe\"),s=n.n(o);s.a},\"9ed6\":function(e,t,n){\"use strict\";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"login-container\"},[n(\"el-form\",{ref:\"loginForm\",staticClass:\"login-form\",attrs:{model:e.loginForm,rules:e.loginRules,autocomplete:\"on\",\"label-position\":\"left\"}},[n(\"div\",{staticClass:\"title-container\"},[n(\"h3\",{staticClass:\"title\"},[e._v(\" \"+e._s(e.$t(\"login.title\"))+\" \")]),n(\"lang-select\",{staticClass:\"set-language\"})],1),n(\"el-form-item\",{attrs:{prop:\"tenantCode\"}},[n(\"span\",{staticClass:\"svg-container\"},[n(\"svg-icon\",{attrs:{\"icon-class\":\"peoples\"}})],1),n(\"el-input\",{ref:\"tenantCode\",attrs:{placeholder:e.$t(\"systenant.tenantCode\"),name:\"tenantCode\",type:\"text\",maxlength:\"64\",tabindex:\"1\",autocomplete:\"on\"},model:{value:e.loginForm.tenantCode,callback:function(t){e.$set(e.loginForm,\"tenantCode\",t)},expression:\"loginForm.tenantCode\"}})],1),n(\"el-form-item\",{attrs:{prop:\"username\"}},[n(\"span\",{staticClass:\"svg-container\"},[n(\"svg-icon\",{attrs:{\"icon-class\":\"user\"}})],1),n(\"el-input\",{ref:\"username\",attrs:{placeholder:e.$t(\"login.username\"),name:\"username\",type:\"text\",tabindex:\"2\",autocomplete:\"on\"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,\"username\",t)},expression:\"loginForm.username\"}})],1),n(\"el-tooltip\",{attrs:{content:\"Caps lock is On\",placement:\"right\",manual:\"\"},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:\"capsTooltip\"}},[n(\"el-form-item\",{attrs:{prop:\"password\"}},[n(\"span\",{staticClass:\"svg-container\"},[n(\"svg-icon\",{attrs:{\"icon-class\":\"password\"}})],1),n(\"el-input\",{key:e.passwordType,ref:\"password\",attrs:{type:e.passwordType,placeholder:e.$t(\"login.password\"),name:\"password\",tabindex:\"3\",autocomplete:\"on\"},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:[function(t){return e.checkCapslock(t)},function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.handleLogin(t)}]},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,\"password\",t)},expression:\"loginForm.password\"}}),n(\"span\",{staticClass:\"show-pwd\",on:{click:e.showPwd}},[n(\"svg-icon\",{attrs:{\"icon-class\":\"password\"===e.passwordType?\"eye\":\"eye-open\"}})],1)],1)],1),n(\"el-button\",{staticStyle:{width:\"100%\",\"margin-bottom\":\"30px\"},attrs:{loading:e.loading,type:\"primary\"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v(\" \"+e._s(e.$t(\"login.logIn\"))+\" \")])],1),e._m(0)],1)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"globalFooter\"},[n(\"div\",{staticClass:\"copyright\"},[e._v(\"Copyright ©2020 广州恒星科创信息技术有限公司\")])])}],r=(n(\"13d5\"),n(\"b64b\"),n(\"1131\")),a={name:\"Login\",components:{LangSelect:r[\"a\"]},data:function(){var e=function(e,t,n){0===t.length?n(new Error(\"请输入用户名！\")):t.length>0&&t.length<3?n(new Error(\"用户名长度最小为3\")):n()},t=function(e,t,n){0===t.length?n(new Error(\"请输入密码！\")):t.length>0&&t.length<6?n(new Error(\"密码长度最小为6\")):n()};return{loginForm:{tenantCode:this.tenantCode||\"10001\",username:this.username||\"\",password:this.password||\"\"},loginRules:{tenantCode:[{required:!0,trigger:\"blur\",message:this.$t(\"systenant.tenantCode-required\")}],username:[{required:!0,trigger:\"blur\",validator:e}],password:[{required:!0,trigger:\"blur\",validator:t}]},passwordType:\"password\",capsTooltip:!1,loading:!1,redirect:void 0,otherQuery:{}}},watch:{$route:{handler:function(e){var t=e.query;t&&(this.redirect=t.redirect,this.otherQuery=this.getOtherQuery(t))},immediate:!0}},created:function(){},mounted:function(){\"\"===this.loginForm.username?this.$refs.username.focus():\"\"===this.loginForm.password&&this.$refs.password.focus()},destroyed:function(){},methods:{checkCapslock:function(e){var t=e.key;this.capsTooltip=t&&1===t.length&&t>=\"A\"&&t<=\"Z\"},showPwd:function(){var e=this;\"password\"===this.passwordType?this.passwordType=\"\":this.passwordType=\"password\",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return console.log(\"error submit!!\"),!1;e.loading=!0,e.$store.dispatch(\"user/login\",e.loginForm).then((function(){e.$router.push({path:e.redirect||\"/\",query:e.otherQuery}),e.loading=!1})).catch((function(){e.loading=!1}))}))},getOtherQuery:function(e){return Object.keys(e).reduce((function(t,n){return\"redirect\"!==n&&(t[n]=e[n]),t}),{})}}},i=a,l=(n(\"2017\"),n(\"b18f\"),n(\"2877\")),c=Object(l[\"a\"])(i,o,s,!1,null,\"0513e28e\",null);t[\"default\"]=c.exports},b18f:function(e,t,n){\"use strict\";var o=n(\"0509\"),s=n.n(o);s.a},cafe:function(e,t,n){}}]);","extractedComments":[]}