{"remainingRequest":"D:\\zyttWork\\MSCode微服务平台-中移铁通有限公司智能产品分公司\\MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司\\MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司\\mscodevue\\node_modules\\babel-loader\\lib\\index.js!D:\\zyttWork\\MSCode微服务平台-中移铁通有限公司智能产品分公司\\MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司\\MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司\\mscodevue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\zyttWork\\MSCode微服务平台-中移铁通有限公司智能产品分公司\\MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司\\MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司\\mscodevue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\zyttWork\\MSCode微服务平台-中移铁通有限公司智能产品分公司\\MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司\\MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司\\mscodevue\\src\\views\\personaloa\\candidatetask.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\zyttWork\\MSCode微服务平台-中移铁通有限公司智能产品分公司\\MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司\\MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司\\mscodevue\\src\\views\\personaloa\\candidatetask.vue","mtime":1596417159355},{"path":"D:\\zyttWork\\MSCode微服务平台-中移铁通有限公司智能产品分公司\\MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司\\MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司\\mscodevue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\zyttWork\\MSCode微服务平台-中移铁通有限公司智能产品分公司\\MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司\\MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司\\mscodevue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\zyttWork\\MSCode微服务平台-中移铁通有限公司智能产品分公司\\MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司\\MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司\\mscodevue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\zyttWork\\MSCode微服务平台-中移铁通有限公司智能产品分公司\\MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司\\MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司\\mscodevue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgcXVlcnlQZXJzb25hbFRhc2ssIGdldEhpZ2hMaWdodGVkUHJvY2Vzc0RpYWdyYW0sIGNsYWltVGFzayB9IGZyb20gJ0AvYXBpL2FjdGl2aXRpJzsKaW1wb3J0IHdhdmVzIGZyb20gJ0AvZGlyZWN0aXZlL3dhdmVzJzsgLy8gd2F2ZXMgZGlyZWN0aXZlCgppbXBvcnQgUGFnaW5hdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvUGFnaW5hdGlvbic7IC8vIHNlY29uZGFyeSBwYWNrYWdlIGJhc2VkIG9uIGVsLXBhZ2luYXRpb24KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ2FuZGlkYXRlVGFzaycsCiAgY29tcG9uZW50czogewogICAgUGFnaW5hdGlvbjogUGFnaW5hdGlvbgogIH0sCiAgZGlyZWN0aXZlczogewogICAgd2F2ZXM6IHdhdmVzCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVLZXk6IDAsCiAgICAgIGxpc3Q6IFtdLAogICAgICB0b3RhbDogMCwKICAgICAgbGlzdExvYWRpbmc6IHRydWUsCiAgICAgIGxpc3RRdWVyeTogewogICAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICB0YXNrU3RhdHVzOiAnY2FuZGlkYXRlJywKICAgICAgICB0YXNrTmFtZTogdW5kZWZpbmVkCiAgICAgIH0sCiAgICAgIHRlbXA6IHsKICAgICAgICBpZDogdW5kZWZpbmVkCiAgICAgIH0sCiAgICAgIHRyYWNrRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHN2Z1NyYzogJycKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5saXN0TG9hZGluZyA9IHRydWU7CiAgICAgIHF1ZXJ5UGVyc29uYWxUYXNrKHRoaXMubGlzdFF1ZXJ5KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLmxpc3QgPSByZXNwb25zZS5kYXRhLmxpc3Q7CiAgICAgICAgX3RoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnBhZ2luYXRpb24udG90YWw7CiAgICAgICAgX3RoaXMubGlzdExvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRmlsdGVyOiBmdW5jdGlvbiBoYW5kbGVGaWx0ZXIoKSB7CiAgICAgIHRoaXMubGlzdFF1ZXJ5LmN1cnJlbnRQYWdlID0gMTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgaGFuZGxlUmVzZXQ6IGZ1bmN0aW9uIGhhbmRsZVJlc2V0KCkgewogICAgICB0aGlzLmxpc3RRdWVyeS50YXNrTmFtZSA9ICcnOwogICAgICB0aGlzLmhhbmRsZUZpbHRlcigpOwogICAgfSwKICAgIGhhbmRsZVRyYWNrOiBmdW5jdGlvbiBoYW5kbGVUcmFjayhyb3cpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBnZXRIaWdoTGlnaHRlZFByb2Nlc3NEaWFncmFtKHJvdy5wcm9jZXNzSW5zdGFuY2VJZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UubWVzc2FnZSA9PT0gJ3N1Y2Nlc3MnKSB7CiAgICAgICAgICBfdGhpczIuc3ZnU3JjID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIF90aGlzMi50cmFja0RpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIuc3ZnU3JjID0gJyc7CgogICAgICAgICAgX3RoaXMyLmhhbmRsZVdhcm5pbmcocmVzcG9uc2UpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQXNzaWduOiBmdW5jdGlvbiBoYW5kbGVBc3NpZ24ocm93KSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgY2xhaW1UYXNrKHJvdy5pZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UubWVzc2FnZSA9PT0gJ3N1Y2Nlc3MnKSB7CiAgICAgICAgICBfdGhpczMuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiBfdGhpczMuJHQoJ2NvbW1vbi5zdWNjZXNzJyksCiAgICAgICAgICAgIG1lc3NhZ2U6IF90aGlzMy4kdCgndGFzay5hc3NpZ24tc3VjY2VzcycpLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczMuaGFuZGxlUmVzZXQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMzLmhhbmRsZVdhcm5pbmcocmVzcG9uc2UpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlV2FybmluZzogZnVuY3Rpb24gaGFuZGxlV2FybmluZyhyZXNwb25zZSkgewogICAgICB0aGlzLiRub3RpZnkoewogICAgICAgIHRpdGxlOiB0aGlzLiR0KCdjb21tb24ud2FybmluZycpLAogICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLm1lc3NhZ2UsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["candidatetask.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"filter-container\">\n      <el-input v-model=\"listQuery.taskName\" :placeholder=\"$t('task.current')\" clearable style=\"width: 200px;\" class=\"filter-item\" @keyup.enter.native=\"handleFilter\" />\n      <el-button v-waves class=\"filter-item\" type=\"primary\" icon=\"el-icon-search\" @click=\"handleFilter\">\n        {{ $t('common.query') }}\n      </el-button>\n      <el-button v-waves class=\"filter-item\" type=\"primary\" icon=\"el-icon-refresh-right\" @click=\"handleReset\">\n        {{ $t('common.reset') }}\n      </el-button>\n    </div>\n\n    <el-table\n      :key=\"tableKey\"\n      v-loading=\"listLoading\"\n      :data=\"list\"\n      border\n      fit\n      highlight-current-row\n      style=\"width: 100%;\"\n    >\n      <el-table-column :label=\"$t('process.processDefinitionName')\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.processDefinitionName }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column :label=\"$t('process.processInstanceName')\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.processInstanceName }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column :label=\"$t('task.current')\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.name }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column :label=\"$t('task.startTime')\" min-width=\"100px\" prop=\"startTime\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.taskLocalVariables.startTime | parseTime('{y}-{m}-{d} {h}:{i}:{s}') }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column :label=\"$t('task.endTime')\" min-width=\"100px\" prop=\"endTime\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.taskLocalVariables.endTime | parseTime('{y}-{m}-{d} {h}:{i}:{s}') }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column :label=\"$t('task.description')\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.taskLocalVariables.description }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column :label=\"$t('common.operate')\" min-width=\"130px\" align=\"center\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"{row}\">\n          <el-button type=\"primary\" size=\"mini\" style=\"margin-right: -5px\" @click=\"handleTrack(row)\">\n            {{ $t('process.track') }}\n          </el-button>\n          <el-button type=\"primary\" size=\"mini\" style=\"margin-right: 5px\" @click=\"handleAssign(row)\">\n            {{ $t('task.assign') }}\n          </el-button>\n          <router-link :to=\"{path: '/personaloa/mytaskdetails', query: { processInstanceId: row.processInstanceId, processDefinitionName: row.processDefinitionName, processInstanceName: row.processInstanceName, name: row.name, startTime: row.taskLocalVariables.startTime, endTime: row.taskLocalVariables.endTime, description: row.taskLocalVariables.description } }\">\n            <el-button type=\"primary\" size=\"mini\">\n              {{ $t('process.details') }}\n            </el-button>\n          </router-link>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"listQuery.currentPage\" :limit.sync=\"listQuery.pageSize\" @pagination=\"getList\" />\n\n    <el-dialog fullscreen :visible.sync=\"trackDialogVisible\">\n      <div v-html=\"svgSrc\" />\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { queryPersonalTask, getHighLightedProcessDiagram, claimTask } from '@/api/activiti'\nimport waves from '@/directive/waves' // waves directive\nimport Pagination from '@/components/Pagination' // secondary package based on el-pagination\n\nexport default {\n  name: 'CandidateTask',\n  components: { Pagination },\n  directives: { waves },\n  data() {\n    return {\n      tableKey: 0,\n      list: [],\n      total: 0,\n      listLoading: true,\n      listQuery: {\n        currentPage: 1,\n        pageSize: 10,\n        taskStatus: 'candidate',\n        taskName: undefined\n      },\n      temp: {\n        id: undefined\n      },\n      trackDialogVisible: false,\n      svgSrc: ''\n    }\n  },\n  created() {\n    this.getList()\n  },\n  methods: {\n    getList() {\n      this.listLoading = true\n      queryPersonalTask(this.listQuery).then(response => {\n        this.list = response.data.list\n        this.total = response.data.pagination.total\n        this.listLoading = false\n      })\n    },\n    handleFilter() {\n      this.listQuery.currentPage = 1\n      this.getList()\n    },\n    handleReset() {\n      this.listQuery.taskName = ''\n      this.handleFilter()\n    },\n    handleTrack(row) {\n      getHighLightedProcessDiagram(row.processInstanceId).then(response => {\n        if (response.message === 'success') {\n          this.svgSrc = response.data\n          this.trackDialogVisible = true\n        } else {\n          this.svgSrc = ''\n          this.handleWarning(response)\n        }\n      })\n    },\n    handleAssign(row) {\n      claimTask(row.id).then(response => {\n        if (response.message === 'success') {\n          this.$notify({\n            title: this.$t('common.success'),\n            message: this.$t('task.assign-success'),\n            type: 'success',\n            duration: 2000\n          })\n          this.handleReset()\n        } else {\n          this.handleWarning(response)\n        }\n      })\n    },\n    handleWarning(response) {\n      this.$notify({\n        title: this.$t('common.warning'),\n        message: response.message,\n        type: 'warning',\n        duration: 2000\n      })\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views/personaloa"}]}