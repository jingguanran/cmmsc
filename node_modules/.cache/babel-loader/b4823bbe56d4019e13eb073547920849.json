{"remainingRequest":"D:\\zyttWork\\MSCode微服务平台-中移铁通有限公司智能产品分公司\\MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司\\MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司\\mscodevue\\node_modules\\babel-loader\\lib\\index.js!D:\\zyttWork\\MSCode微服务平台-中移铁通有限公司智能产品分公司\\MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司\\MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司\\mscodevue\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\zyttWork\\MSCode微服务平台-中移铁通有限公司智能产品分公司\\MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司\\MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司\\mscodevue\\src\\store\\modules\\user.js","dependencies":[{"path":"D:\\zyttWork\\MSCode微服务平台-中移铁通有限公司智能产品分公司\\MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司\\MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司\\mscodevue\\src\\store\\modules\\user.js","mtime":1597221536360},{"path":"D:\\zyttWork\\MSCode微服务平台-中移铁通有限公司智能产品分公司\\MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司\\MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司\\mscodevue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\zyttWork\\MSCode微服务平台-中移铁通有限公司智能产品分公司\\MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司\\MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司\\mscodevue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\zyttWork\\MSCode微服务平台-中移铁通有限公司智能产品分公司\\MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司\\MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司\\mscodevue\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0iOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOi96eXR0V29yay9NU0NvZGVcdTVGQUVcdTY3MERcdTUyQTFcdTVFNzNcdTUzRjAtXHU0RTJEXHU3OUZCXHU5NEMxXHU5MDFBXHU2NzA5XHU5NjUwXHU1MTZDXHU1M0Y4XHU2NjdBXHU4MEZEXHU0RUE3XHU1NEMxXHU1MjA2XHU1MTZDXHU1M0Y4L01TQ29kZVx1NUZBRVx1NjcwRFx1NTJBMVx1NUU3M1x1NTNGMFx1NkU5MFx1NzgwMVx1NTQ4Q1NRTC1cdTRFMkRcdTc5RkJcdTk0QzFcdTkwMUFcdTY3MDlcdTk2NTBcdTUxNkNcdTUzRjhcdTY2N0FcdTgwRkRcdTRFQTdcdTU0QzFcdTUyMDZcdTUxNkNcdTUzRjgvTVNDb2RlXHU1RkFFXHU2NzBEXHU1MkExXHU1RTczXHU1M0YwXHU1MzQ3XHU3RUE3KDIwMjAwNzEzKS1cdTRFMkRcdTc5RkJcdTk0QzFcdTkwMUFcdTY3MDlcdTk2NTBcdTUxNkNcdTUzRjhcdTY2N0FcdTgwRkRcdTRFQTdcdTU0QzFcdTUyMDZcdTUxNkNcdTUzRjgvbXNjb2RldnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgbG9naW4gYXMgX2xvZ2luLCBnZXRJbmZvIGFzIF9nZXRJbmZvLCBnZXRQdWJsaWNLZXkgfSBmcm9tICdAL2FwaS91c2VyJzsKaW1wb3J0IHsgZ2V0VG9rZW4sIHNldFRva2VuLCByZW1vdmVUb2tlbiB9IGZyb20gJ0AvdXRpbHMvYXV0aCc7CmltcG9ydCByb3V0ZXIsIHsgcmVzZXRSb3V0ZXIgfSBmcm9tICdAL3JvdXRlcic7CmltcG9ydCBKU0VuY3J5cHQgZnJvbSAnanNlbmNyeXB0JzsKdmFyIHN0YXRlID0gewogIHRva2VuOiBnZXRUb2tlbigpLAogIG5hbWU6ICcnLAogIGF2YXRhcjogJycsCiAgaW50cm9kdWN0aW9uOiAnJywKICByb2xlczogW10KfTsKdmFyIG11dGF0aW9ucyA9IHsKICBTRVRfVE9LRU46IGZ1bmN0aW9uIFNFVF9UT0tFTihzdGF0ZSwgdG9rZW4pIHsKICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgfSwKICBTRVRfSU5UUk9EVUNUSU9OOiBmdW5jdGlvbiBTRVRfSU5UUk9EVUNUSU9OKHN0YXRlLCBpbnRyb2R1Y3Rpb24pIHsKICAgIHN0YXRlLmludHJvZHVjdGlvbiA9IGludHJvZHVjdGlvbjsKICB9LAogIFNFVF9OQU1FOiBmdW5jdGlvbiBTRVRfTkFNRShzdGF0ZSwgbmFtZSkgewogICAgc3RhdGUubmFtZSA9IG5hbWU7CiAgfSwKICBTRVRfQVZBVEFSOiBmdW5jdGlvbiBTRVRfQVZBVEFSKHN0YXRlLCBhdmF0YXIpIHsKICAgIHN0YXRlLmF2YXRhciA9IGF2YXRhcjsKICB9LAogIFNFVF9ST0xFUzogZnVuY3Rpb24gU0VUX1JPTEVTKHN0YXRlLCByb2xlcykgewogICAgc3RhdGUucm9sZXMgPSByb2xlczsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIC8vIHVzZXIgbG9naW4KICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgdXNlckluZm8pIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgIHZhciB0ZW5hbnRDb2RlID0gdXNlckluZm8udGVuYW50Q29kZSwKICAgICAgICB1c2VybmFtZSA9IHVzZXJJbmZvLnVzZXJuYW1lLAogICAgICAgIHBhc3N3b3JkID0gdXNlckluZm8ucGFzc3dvcmQ7CiAgICByZXR1cm4gbmV3IFByb21pc2UoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB2YXIgcHViS2V5LCBlbmNyeXB0U3RyLCBmaW5hbF9wYXNzd29yZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRQdWJsaWNLZXkoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcHViS2V5ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGVuY3J5cHRTdHIgPSBuZXcgSlNFbmNyeXB0KCk7CiAgICAgICAgICAgICAgICBlbmNyeXB0U3RyLnNldFB1YmxpY0tleShwdWJLZXkpOyAvLyDorr7nva4g5Yqg5a+G5YWs6ZKlCgogICAgICAgICAgICAgICAgZmluYWxfcGFzc3dvcmQgPSBlbmNyeXB0U3RyLmVuY3J5cHQocGFzc3dvcmQudG9TdHJpbmcoKSk7IC8vIOi/m+ihjOWKoOWvhgoKICAgICAgICAgICAgICAgIF9sb2dpbih7CiAgICAgICAgICAgICAgICAgIHRlbmFudENvZGU6IHRlbmFudENvZGUudHJpbSgpLAogICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUudHJpbSgpLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogZmluYWxfcGFzc3dvcmQKICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgcmVzcG9uc2UuYWNjZXNzX3Rva2VuKTsKICAgICAgICAgICAgICAgICAgc2V0VG9rZW4ocmVzcG9uc2UuYWNjZXNzX3Rva2VuKTsKICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gsIF94MikgewogICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpKTsKICB9LAogIC8vIGdldCB1c2VyIGluZm8KICBnZXRJbmZvOiBmdW5jdGlvbiBnZXRJbmZvKF9yZWYzKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0LAogICAgICAgIHN0YXRlID0gX3JlZjMuc3RhdGU7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBfZ2V0SW5mbyhzdGF0ZS50b2tlbikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgIGlmICghZGF0YSkgewogICAgICAgICAgcmVqZWN0KCfpqozor4HlpLHotKXvvIzor7fph43mlrDnmbvlvZXjgIInKTsKICAgICAgICB9CgogICAgICAgIGRhdGEucm9sZXMgPSBbJ1JPTEVfQURNSU4nXTsKICAgICAgICBkYXRhLm5hbWUgPSBkYXRhLnVzZXJuYW1lOwogICAgICAgIGRhdGEuaW50cm9kdWN0aW9uID0gZGF0YS5uaWNrbmFtZTsKICAgICAgICB2YXIgcm9sZXMgPSBkYXRhLnJvbGVzLAogICAgICAgICAgICBuYW1lID0gZGF0YS5uYW1lLAogICAgICAgICAgICBhdmF0YXIgPSBkYXRhLmF2YXRhciwKICAgICAgICAgICAgaW50cm9kdWN0aW9uID0gZGF0YS5pbnRyb2R1Y3Rpb247CgogICAgICAgIGlmICghcm9sZXMgfHwgcm9sZXMubGVuZ3RoIDw9IDApIHsKICAgICAgICAgIHJlamVjdCgn6KeS6Imy5b+F6aG75Li66Z2ebnVsbOaVsOe7hO+8gScpOwogICAgICAgIH0KCiAgICAgICAgY29tbWl0KCdTRVRfUk9MRVMnLCByb2xlcyk7CiAgICAgICAgY29tbWl0KCdTRVRfTkFNRScsIG5hbWUpOwogICAgICAgIGNvbW1pdCgnU0VUX0FWQVRBUicsIGF2YXRhcik7CiAgICAgICAgY29tbWl0KCdTRVRfSU5UUk9EVUNUSU9OJywgaW50cm9kdWN0aW9uKTsKICAgICAgICByZXNvbHZlKGRhdGEpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgLy8gdXNlciBsb2dvdXQKICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmNCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdCwKICAgICAgICBzdGF0ZSA9IF9yZWY0LnN0YXRlLAogICAgICAgIGRpc3BhdGNoID0gX3JlZjQuZGlzcGF0Y2g7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBjb21taXQoJ1NFVF9UT0tFTicsICcnKTsKICAgICAgY29tbWl0KCdTRVRfUk9MRVMnLCBbXSk7CiAgICAgIHJlbW92ZVRva2VuKCk7CiAgICAgIHJlc2V0Um91dGVyKCk7IC8vIHJlc2V0IHZpc2l0ZWQgdmlld3MgYW5kIGNhY2hlZCB2aWV3cwoKICAgICAgZGlzcGF0Y2goJ3RhZ3NWaWV3L2RlbEFsbFZpZXdzJywgbnVsbCwgewogICAgICAgIHJvb3Q6IHRydWUKICAgICAgfSk7CiAgICAgIHJlc29sdmUoKTsKICAgIH0pOwogIH0sCiAgLy8gcmVtb3ZlIHRva2VuCiAgcmVzZXRUb2tlbjogZnVuY3Rpb24gcmVzZXRUb2tlbihfcmVmNSkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICBjb21taXQoJ1NFVF9UT0tFTicsICcnKTsKICAgICAgY29tbWl0KCdTRVRfUk9MRVMnLCBbXSk7CiAgICAgIHJlbW92ZVRva2VuKCk7CiAgICAgIHJlc29sdmUoKTsKICAgIH0pOwogIH0sCiAgLy8gZHluYW1pY2FsbHkgbW9kaWZ5IHBlcm1pc3Npb25zCiAgY2hhbmdlUm9sZXM6IGZ1bmN0aW9uIGNoYW5nZVJvbGVzKF9yZWY2LCByb2xlKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIGNvbW1pdCwgZGlzcGF0Y2gsIHRva2VuLCBfeWllbGQkZGlzcGF0Y2gsIHJvbGVzLCBhY2Nlc3NSb3V0ZXM7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY2LmNvbW1pdCwgZGlzcGF0Y2ggPSBfcmVmNi5kaXNwYXRjaDsKICAgICAgICAgICAgICB0b2tlbiA9IHJvbGUgKyAnLXRva2VuJzsKICAgICAgICAgICAgICBjb21taXQoJ1NFVF9UT0tFTicsIHRva2VuKTsKICAgICAgICAgICAgICBzZXRUb2tlbih0b2tlbik7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZ2V0SW5mbycpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF95aWVsZCRkaXNwYXRjaCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIHJvbGVzID0gX3lpZWxkJGRpc3BhdGNoLnJvbGVzOwogICAgICAgICAgICAgIHJlc2V0Um91dGVyKCk7IC8vIGdlbmVyYXRlIGFjY2Vzc2libGUgcm91dGVzIG1hcCBiYXNlZCBvbiByb2xlcwoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgncGVybWlzc2lvbi9nZW5lcmF0ZVJvdXRlcycsIHJvbGVzLCB7CiAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGFjY2Vzc1JvdXRlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFjY2Vzc1JvdXRlcyk7IC8vIGR5bmFtaWNhbGx5IGFkZCBhY2Nlc3NpYmxlIHJvdXRlcwoKICAgICAgICAgICAgICByb3V0ZXIuYWRkUm91dGVzKGFjY2Vzc1JvdXRlcyk7IC8vIHJlc2V0IHZpc2l0ZWQgdmlld3MgYW5kIGNhY2hlZCB2aWV3cwoKICAgICAgICAgICAgICBkaXNwYXRjaCgndGFnc1ZpZXcvZGVsQWxsVmlld3MnLCBudWxsLCB7CiAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucwp9Ow=="},{"version":3,"sources":["D:/zyttWork/MSCode微服务平台-中移铁通有限公司智能产品分公司/MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司/MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司/mscodevue/src/store/modules/user.js"],"names":["login","getInfo","getPublicKey","getToken","setToken","removeToken","router","resetRouter","JSEncrypt","state","token","name","avatar","introduction","roles","mutations","SET_TOKEN","SET_INTRODUCTION","SET_NAME","SET_AVATAR","SET_ROLES","actions","userInfo","commit","tenantCode","username","password","Promise","resolve","reject","pubKey","encryptStr","setPublicKey","final_password","encrypt","toString","trim","then","response","access_token","catch","error","data","nickname","length","logout","dispatch","root","resetToken","changeRoles","role","accessRoutes","console","log","addRoutes","namespaced"],"mappings":"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","sourcesContent":["import { login, getInfo, getPublicKey } from '@/api/user'\nimport { getToken, setToken, removeToken } from '@/utils/auth'\nimport router, { resetRouter } from '@/router'\nimport JSEncrypt from 'jsencrypt';\nconst state = {\n  token: getToken(),\n  name: '',\n  avatar: '',\n  introduction: '',\n  roles: []\n}\n\nconst mutations = {\n  SET_TOKEN: (state, token) => {\n    state.token = token\n  },\n  SET_INTRODUCTION: (state, introduction) => {\n    state.introduction = introduction\n  },\n  SET_NAME: (state, name) => {\n    state.name = name\n  },\n  SET_AVATAR: (state, avatar) => {\n    state.avatar = avatar\n  },\n  SET_ROLES: (state, roles) => {\n    state.roles = roles\n  }\n}\n\nconst actions = {\n  // user login\n  login ({ commit }, userInfo) {\n    const { tenantCode, username, password } = userInfo\n    return new Promise(async (resolve, reject) => {\n      var pubKey=await getPublicKey()\n      let encryptStr = new JSEncrypt();\n      encryptStr.setPublicKey(pubKey); // 设置 加密公钥\n      let final_password= encryptStr.encrypt( password.toString());  // 进行加密\n      login({ tenantCode: tenantCode.trim(), username: username.trim(), password:final_password}).then(response => {\n        commit('SET_TOKEN', response.access_token)\n        setToken(response.access_token)\n        resolve()\n      }).catch(error => {\n        reject(error)\n      })\n    })\n  },\n\n  // get user info\n  getInfo ({ commit, state }) {\n    return new Promise((resolve, reject) => {\n      getInfo(state.token).then(response => {\n        const { data } = response\n\n        if (!data) {\n          reject('验证失败，请重新登录。')\n        }\n\n        data.roles = ['ROLE_ADMIN']\n        data.name = data.username\n        data.introduction = data.nickname\n        const { roles, name, avatar, introduction } = data\n\n        if (!roles || roles.length <= 0) {\n          reject('角色必须为非null数组！')\n        }\n\n        commit('SET_ROLES', roles)\n        commit('SET_NAME', name)\n        commit('SET_AVATAR', avatar)\n        commit('SET_INTRODUCTION', introduction)\n        resolve(data)\n      }).catch(error => {\n        reject(error)\n      })\n    })\n  },\n\n  // user logout\n  logout ({ commit, state, dispatch }) {\n    return new Promise((resolve, reject) => {\n      commit('SET_TOKEN', '')\n      commit('SET_ROLES', [])\n      removeToken()\n      resetRouter()\n\n      // reset visited views and cached views\n      dispatch('tagsView/delAllViews', null, { root: true })\n\n      resolve()\n    })\n  },\n\n  // remove token\n  resetToken ({ commit }) {\n    return new Promise(resolve => {\n      commit('SET_TOKEN', '')\n      commit('SET_ROLES', [])\n      removeToken()\n      resolve()\n    })\n  },\n\n  // dynamically modify permissions\n  async changeRoles ({ commit, dispatch }, role) {\n    const token = role + '-token'\n\n    commit('SET_TOKEN', token)\n    setToken(token)\n\n\n    const { roles } = await dispatch('getInfo')\n    resetRouter()\n\n    // generate accessible routes map based on roles\n    const accessRoutes = await dispatch('permission/generateRoutes', roles, { root: true })\n    console.log(accessRoutes)\n    // dynamically add accessible routes\n    router.addRoutes(accessRoutes)\n\n    // reset visited views and cached views\n    dispatch('tagsView/delAllViews', null, { root: true })\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions\n}\n"]}]}