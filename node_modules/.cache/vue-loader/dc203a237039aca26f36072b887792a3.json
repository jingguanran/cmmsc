{"remainingRequest":"D:\\zyttWork\\MSCode微服务平台-中移铁通有限公司智能产品分公司\\MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司\\MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司\\mscodevue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\zyttWork\\MSCode微服务平台-中移铁通有限公司智能产品分公司\\MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司\\MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司\\mscodevue\\src\\views\\gather-info\\UserDetails\\views\\work.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\zyttWork\\MSCode微服务平台-中移铁通有限公司智能产品分公司\\MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司\\MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司\\mscodevue\\src\\views\\gather-info\\UserDetails\\views\\work.vue","mtime":1597221716787},{"path":"D:\\zyttWork\\MSCode微服务平台-中移铁通有限公司智能产品分公司\\MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司\\MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司\\mscodevue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\zyttWork\\MSCode微服务平台-中移铁通有限公司智能产品分公司\\MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司\\MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司\\mscodevue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\zyttWork\\MSCode微服务平台-中移铁通有限公司智能产品分公司\\MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司\\MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司\\mscodevue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\zyttWork\\MSCode微服务平台-中移铁通有限公司智能产品分公司\\MSCode微服务平台源码和SQL-中移铁通有限公司智能产品分公司\\MSCode微服务平台升级(20200713)-中移铁通有限公司智能产品分公司\\mscodevue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB3YXZlcyBmcm9tICdAL2RpcmVjdGl2ZS93YXZlcycgLy8gd2F2ZXMgZGlyZWN0aXZlCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwppbXBvcnQgeyBwYXJzZVRpbWUgfSBmcm9tICdAL3V0aWxzJwovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMKaW1wb3J0IHsgZ2V0VXNlckRhdGEsIHVwV29yaywgZGVsV29yaywgY2hhbmVXb3JrIH0gZnJvbSAnQC9hcGkvZ2V0VXNlci1pbmZvL3dvcmsnCgpleHBvcnQgZGVmYXVsdCB7CgogIG5hbWU6ICdXb3JrJywKICBkaXJlY3RpdmVzOiB7IHdhdmVzIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBsaXN0OiBbXSwKICAgICAgdGVtcDogewogICAgICAgIGlkOiB1bmRlZmluZWQKICAgICAgfSwKICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLAogICAgICBkaWFsb2dTdGF0dXM6ICcnLAogICAgICB0ZXh0TWFwOiB7CiAgICAgICAgdXBkYXRlOiB0aGlzLiR0KCdjb21tb24uZWRpdCcpLAogICAgICAgIGNyZWF0ZTogdGhpcy4kdCgnY29tbW9uLmFkZCcpCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CgogICAgICB9LAogICAgICBsaXN0TG9hZGluZzogZmFsc2UsCiAgICAgIGRvd25sb2FkTG9hZGluZzogZmFsc2UsCiAgICAgIHNob3dVbml0QWRkcjogZmFsc2UsCiAgICAgIHNob3dVbml0Q29udGFjdDogZmFsc2UsCiAgICAgIHNob3dEZXRhaWxBZGRyOiBmYWxzZSwKICAgICAgc2hvd1VuaXRQaG9uZTogZmFsc2UKICAgIH0KICB9LAoKICBjb21wdXRlZDogewogICAgTmF0dXJlT3B0aW9ucyAoKSB7CiAgICAgIHJldHVybiBbewogICAgICAgIHZhbHVlOiAnemhpbmFuJywKICAgICAgICBsYWJlbDogJ+aMh+WNlycKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnamluYW4nLAogICAgICAgIGxhYmVsOiAn5rWO5Y2XJwogICAgICB9CiAgICAgIF0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHJlc2V0VGVtcCAoKSB7CiAgICAgIHRoaXMudGVtcCA9IHsKICAgICAgICBpZDogdW5kZWZpbmVkCiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVDcmVhdGUgKCkgewogICAgICB0aGlzLnJlc2V0VGVtcCgpCiAgICAgIHRoaXMuZGlhbG9nU3RhdHVzID0gJ2NyZWF0ZScKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWUKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuJHJlZnNbJ2RhdGFGb3JtJ10uY2xlYXJWYWxpZGF0ZSgpCiAgICAgIH0pCiAgICB9LAogICAgLy8g5paw5aKe5bel5L2c57uP5Y6GCiAgICBjcmVhdGVEYXRhICgpIHsKICAgICAgLy8g6L2s5o2i5Li65pe26Ze05oizCgogICAgICBpZiAodGhpcy50ZW1wLnN0YXJ0VGltZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy50ZW1wWydzdGFydFRpbWUnXSA9IERhdGUucGFyc2UodGhpcy50ZW1wLnN0YXJ0VGltZSkKICAgICAgfQogICAgICBpZiAodGhpcy50ZW1wLmVuZFRpbWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMudGVtcFsnZW5kVGltZSddID0gRGF0ZS5wYXJzZSh0aGlzLnRlbXAuZW5kVGltZSkKICAgICAgfQogICAgICB0aGlzLnRlbXBbJ2NvbnN1bWVySWQnXSA9ICcyMjMzMjExMCcKICAgICAgdXBXb3JrKHRoaXMudGVtcCkudGhlbihkYXRhID0+IHsKICAgICAgICB0aGlzLmdldFVzZXJJZCgpCiAgICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlCiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICB9KQogICAgfSwKICAgIC8vIOWIoOmZpOW3peS9nOe7j+WOhgogICAgaGFuZGxlRGVsZXRlIChyb3cpIHsKICAgICAgZGVsV29yayh7CiAgICAgICAgd29ya0lkOiByb3cuaWQKICAgICAgfSkudGhlbihkYXRhID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhkYXRhKQogICAgICAgIHRoaXMuZ2V0VXNlcklkKCkKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgIH0pCiAgICB9LAogICAgLy8g5by556qXCiAgICBoYW5kbGVVcGRhdGUgKHJvdykgewogICAgICB0aGlzLnRlbXAgPSBPYmplY3QuYXNzaWduKHt9LCByb3cpIC8vIGNvcHkgb2JqCiAgICAgIHRoaXMuZGlhbG9nU3RhdHVzID0gJ3VwZGF0ZScKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWUKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuJHJlZnNbJ2RhdGFGb3JtJ10uY2xlYXJWYWxpZGF0ZSgpCiAgICAgIH0pCiAgICB9LAogICAgLy8g5L+u5pS55bel5L2c57uP5Y6GCiAgICB1cGRhdGVEYXRhICgpIHsKICAgICAgLy8g5Yik5pat5pe26Ze05qC85byPCiAgICAgIGNvbnNvbGUubG9nKHRoaXMudGVtcCkKICAgICAgaWYgKHR5cGVvZiB0aGlzLnRlbXAuc3RhcnRUaW1lICE9PSAnbnVtYmVyJykgewogICAgICAgIGlmICh0aGlzLnRlbXAuc3RhcnRUaW1lID09PSBudWxsKSB7CiAgICAgICAgICB0aGlzLnRlbXBbJ3N0YXJ0VGltZSddID0gbnVsbAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnRlbXBbJ3N0YXJ0VGltZSddID0gRGF0ZS5wYXJzZSh0aGlzLnRlbXAuc3RhcnRUaW1lKQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAodHlwZW9mIHRoaXMudGVtcC5lbmRUaW1lICE9PSAnbnVtYmVyJykgewogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudGVtcC5lbmRUaW1lID09PSBudWxsKQogICAgICAgIGlmICh0aGlzLnRlbXAuZW5kVGltZSA9PT0gJ+WcqOiBjCcpIHsKICAgICAgICAgIGRlbGV0ZSB0aGlzLnRlbXBbJ2VuZFRpbWUnXQogICAgICAgIH0gZWxzZSBpZiAodGhpcy50ZW1wLmVuZFRpbWUgPT09IG51bGwpIHsKICAgICAgICAgIHRoaXMudGVtcFsnZW5kVGltZSddID0gbnVsbAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnRlbXBbJ2VuZFRpbWUnXSA9IERhdGUucGFyc2UodGhpcy50ZW1wLmVuZFRpbWUpCiAgICAgICAgfQogICAgICB9CiAgICAgIGRlbGV0ZSB0aGlzLnRlbXBbJ3VwZGF0ZVRpbWUnXQogICAgICBkZWxldGUgdGhpcy50ZW1wWydpc0N1cnJlbnQnXQogICAgICBkZWxldGUgdGhpcy50ZW1wWydjcmVhdGVUaW1lJ10KCiAgICAgIGNoYW5lV29yaygKICAgICAgICB0aGlzLnRlbXAKICAgICAgKS50aGVuKGRhdGEgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGRhdGEpCiAgICAgICAgdGhpcy5nZXRVc2VySWQoKQogICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZQogICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgfSkKICAgIH0sCiAgICAvLyDojrflj5blt6XkvZznu4/ljobkv6Hmga8KICAgIGdldFVzZXJJZCAoKSB7CiAgICAgIGdldFVzZXJEYXRhKHsKICAgICAgICBjb25zdW1lcklkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQKICAgICAgfSkudGhlbihkYXRhID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhkYXRhKQogICAgICAgIHRoaXMubGlzdCA9IGRhdGEuZGF0YQogICAgICAgIGlmICh0aGlzLmxpc3RbMF1bJ2VuZFRpbWUnXSA9PT0gbnVsbCkgewogICAgICAgICAgdGhpcy5saXN0WzBdWydlbmRUaW1lJ10gPSAn5Zyo6IGMJwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgIH0pCiAgICB9LAogIH0sCiAgbW91bnRlZCAoKSB7CiAgICB0aGlzLmdldFVzZXJJZCgpCiAgfQp9Cgo="},{"version":3,"sources":["work.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+SA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"work.vue","sourceRoot":"src/views/gather-info/UserDetails/views","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"filter-container\">\n\n      <el-button\n        class=\"filter-item\"\n        style=\"margin-left: 10px;\"\n        type=\"primary\"\n        icon=\"el-icon-plus\"\n        @click=\"handleCreate\"\n      >\n        {{ $t('common.add') }}\n      </el-button>\n      <el-button\n        v-waves\n        :loading=\"downloadLoading\"\n        class=\"filter-item\"\n        type=\"primary\"\n        icon=\"el-icon-download\"\n        @click=\"handleDownload\"\n      >\n        {{ $t('common.export') }}\n      </el-button>\n      <el-checkbox\n        v-model=\"showUnitAddr\"\n        class=\"filter-item\"\n        style=\"margin-left:15px;\"\n      >\n        {{ $t('customer.unitAddres') }}\n      </el-checkbox>\n      <el-checkbox\n        v-model=\"showDetailAddr\"\n        class=\"filter-item\"\n        style=\"margin-left:15px;\"\n      >\n        {{ $t('customer.detailedAddres') }}\n      </el-checkbox>\n      <el-checkbox\n        v-model=\"showUnitContact\"\n        class=\"filter-item\"\n        style=\"margin-left:15px;\"\n      >\n        {{ $t('customer.unitContact') }}\n      </el-checkbox>\n      <el-checkbox\n        v-model=\"showUnitPhone\"\n        class=\"filter-item\"\n        style=\"margin-left:15px;\"\n      >\n        {{ $t('customer.unitPhone') }}\n      </el-checkbox>\n    </div>\n    <el-table\n      v-loading=\"listLoading\"\n      :data=\"list\"\n      border\n      fit\n      highlight-current-row\n      style=\"width: 100%;\"\n    >\n      <el-table-column :label=\"$t('customer.unitName')\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.unitName }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column :label=\"$t('customer.unitNature')\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.unitNature }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column :label=\"$t('customer.industry')\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.industry}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column :label=\"$t('customer.post')\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.post }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        :label=\"$t('customer.unitAddres')\"\n        v-if=\"showUnitAddr\"\n      >\n        <template slot-scope=\"{row}\">\n          <span>{{ row.unitAddres }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        :label=\"$t('customer.detailedAddres')\"\n        v-if=\"showDetailAddr\"\n      >\n        <template slot-scope=\"{row}\">\n          <span>{{ row.detailedAddres }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        :label=\"$t('customer.unitContact')\"\n        v-if=\"showUnitContact\"\n      >\n        <template slot-scope=\"{row}\">\n          <span>{{ row.unitContact }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        :label=\"$t('customer.unitPhone')\"\n        v-if=\"showUnitPhone\"\n      >\n        <template slot-scope=\"{row}\">\n          <span>{{ row.unitPhone }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        :label=\"$t('customer.startTime')\"\n        min-width=\"100px\"\n      >\n        <template slot-scope=\"{row}\">\n          <span>{{ row.startTime | parseTime('{y}-{m}-{d} {h}:{i}:{s}') }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        :label=\"$t('customer.endTime')\"\n        min-width=\"100px\"\n      >\n        <template slot-scope=\"{row}\">\n          <span>{{ row.endTime | parseTime('{y}-{m}-{d} {h}:{i}:{s}') }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        :label=\"$t('common.operate')\"\n        min-width=\"100px\"\n        align=\"center\"\n        class-name=\"small-padding fixed-width\"\n      >\n        <template slot-scope=\"{row,$index}\">\n          <el-button\n            type=\"primary\"\n            size=\"mini\"\n            style=\"margin-right: 5px\"\n            @click=\"handleUpdate(row)\"\n          >\n            {{ $t('common.edit') }}\n          </el-button>\n          <el-popover\n            :ref=\"'popover-' + row.id\"\n            placement=\"top\"\n            width=\"160\"\n            :title=\"$t('common.confirm-delete')\"\n            trigger=\"click\"\n          >\n            <div style=\"text-align: right; margin: 0\">\n              <el-button\n                size=\"mini\"\n                @click=\"$refs[`popover-` + row.id].doClose()\"\n              >{{ $t('common.cancel') }}</el-button>\n              <el-button\n                type=\"primary\"\n                size=\"mini\"\n                @click=\"$refs[`popover-` + row.id].doClose();handleDelete(row,$index)\"\n              >{{ $t('common.confirm') }}</el-button>\n            </div>\n            <el-button\n              slot=\"reference\"\n              type=\"danger\"\n              size=\"mini\"\n            >\n              {{ $t('common.delete') }}\n            </el-button>\n          </el-popover>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-dialog\n      :title=\"textMap[dialogStatus]\"\n      :visible.sync=\"dialogFormVisible\"\n    >\n      <el-form\n        ref=\"dataForm\"\n        :rules=\"rules\"\n        label-position=\"right\"\n        label-width=\"100px\"\n        style=\"width: 100%\"\n      >\n        <el-form-item :label=\"$t('customer.unitName')\">\n          <el-input\n            v-model=\"temp.unitName\"\n            :placeholder=\"$t('common.enter')\"\n            minlength=\"3\"\n            maxlength=\"64\"\n            clearable\n          />\n        </el-form-item>\n        <el-form-item :label=\"$t('customer.unitNature')\">\n          <el-select\n            v-model=\"temp.unitNature\"\n            :placeholder=\"$t('common.choose')\"\n            clearable\n            class=\"filter-item\"\n            style=\"width: 100%\"\n          >\n            <el-option\n              v-for=\"item in NatureOptions\"\n              :key=\"item.value\"\n              :label=\"item.name\"\n              :value=\"item.value\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item :label=\"$t('customer.industry')\">\n          <el-input\n            v-model=\"temp.industry\"\n            :placeholder=\"$t('common.enter')\"\n            minlength=\"3\"\n            maxlength=\"64\"\n            clearable\n          />\n        </el-form-item>\n        <el-form-item :label=\"$t('customer.post')\">\n          <el-input\n            v-model=\"temp.post\"\n            :placeholder=\"$t('common.enter')\"\n            minlength=\"3\"\n            maxlength=\"64\"\n            clearable\n          />\n        </el-form-item>\n        <el-form-item :label=\"$t('customer.unitAddres')\">\n          <el-input\n            v-model=\"temp.unitAddres\"\n            :placeholder=\"$t('common.enter')\"\n            minlength=\"3\"\n            maxlength=\"64\"\n            clearable\n          />\n        </el-form-item>\n        <el-form-item :label=\"$t('customer.detailedAddres')\">\n          <el-input\n            v-model=\"temp.detailedAddres\"\n            :placeholder=\"$t('common.enter')\"\n            minlength=\"3\"\n            maxlength=\"64\"\n            clearable\n          />\n        </el-form-item>\n        <el-form-item :label=\"$t('customer.unitContact')\">\n          <el-input\n            v-model=\"temp.unitContact\"\n            :placeholder=\"$t('common.enter')\"\n            minlength=\"3\"\n            maxlength=\"64\"\n            clearable\n          />\n        </el-form-item>\n        <el-form-item\n          :label=\"$t('customer.unitPhone')\"\n          prop=\"unitPhone\"\n        >\n          <el-input\n            v-model=\"temp.unitPhone\"\n            :placeholder=\"$t('common.enter')\"\n            minlength=\"3\"\n            maxlength=\"64\"\n            clearable\n          />\n        </el-form-item>\n        <el-form-item :label=\"$t('customer.startTime')\">\n          <el-date-picker\n            v-model=\"temp.startTime\"\n            type=\"datetime\"\n            :placeholder=\"$t('common.enter')\"\n            style=\"width: 100%\"\n          />\n        </el-form-item>\n        <el-form-item :label=\"$t('customer.endTime')\">\n          <el-date-picker\n            v-model=\"temp.endTime\"\n            type=\"datetime\"\n            :placeholder=\"$t('common.enter')\"\n            style=\"width: 100%\"\n          />\n        </el-form-item>\n      </el-form>\n      <div\n        slot=\"footer\"\n        class=\"dialog-footer\"\n      >\n\n        <el-button @click=\"dialogFormVisible = false\">\n          {{ $t('common.cancel') }}\n        </el-button>\n        <el-button\n          type=\"primary\"\n          @click=\"dialogStatus==='create'?createData():updateData()\"\n        >\n          {{ $t('common.confirm') }}\n        </el-button>\n      </div>\n    </el-dialog>\n  </div>\n\n</template>\n\n<script>\nimport waves from '@/directive/waves' // waves directive\n// eslint-disable-next-line no-unused-vars\nimport { parseTime } from '@/utils'\n// eslint-disable-next-line no-unused-vars\nimport { getUserData, upWork, delWork, chaneWork } from '@/api/getUser-info/work'\n\nexport default {\n\n  name: 'Work',\n  directives: { waves },\n  data () {\n    return {\n      list: [],\n      temp: {\n        id: undefined\n      },\n      dialogFormVisible: false,\n      dialogStatus: '',\n      textMap: {\n        update: this.$t('common.edit'),\n        create: this.$t('common.add')\n      },\n      rules: {\n\n      },\n      listLoading: false,\n      downloadLoading: false,\n      showUnitAddr: false,\n      showUnitContact: false,\n      showDetailAddr: false,\n      showUnitPhone: false\n    }\n  },\n\n  computed: {\n    NatureOptions () {\n      return [{\n        value: 'zhinan',\n        label: '指南'\n      }, {\n        value: 'jinan',\n        label: '济南'\n      }\n      ]\n    }\n  },\n  methods: {\n    resetTemp () {\n      this.temp = {\n        id: undefined\n      }\n    },\n    handleCreate () {\n      this.resetTemp()\n      this.dialogStatus = 'create'\n      this.dialogFormVisible = true\n      this.$nextTick(() => {\n        this.$refs['dataForm'].clearValidate()\n      })\n    },\n    // 新增工作经历\n    createData () {\n      // 转换为时间戳\n\n      if (this.temp.startTime !== undefined) {\n        this.temp['startTime'] = Date.parse(this.temp.startTime)\n      }\n      if (this.temp.endTime !== undefined) {\n        this.temp['endTime'] = Date.parse(this.temp.endTime)\n      }\n      this.temp['consumerId'] = '22332110'\n      upWork(this.temp).then(data => {\n        this.getUserId()\n        this.dialogFormVisible = false\n      }).catch(err => {\n        console.log(err)\n      })\n    },\n    // 删除工作经历\n    handleDelete (row) {\n      delWork({\n        workId: row.id\n      }).then(data => {\n        console.log(data)\n        this.getUserId()\n      }).catch(err => {\n        console.log(err)\n      })\n    },\n    // 弹窗\n    handleUpdate (row) {\n      this.temp = Object.assign({}, row) // copy obj\n      this.dialogStatus = 'update'\n      this.dialogFormVisible = true\n      this.$nextTick(() => {\n        this.$refs['dataForm'].clearValidate()\n      })\n    },\n    // 修改工作经历\n    updateData () {\n      // 判断时间格式\n      console.log(this.temp)\n      if (typeof this.temp.startTime !== 'number') {\n        if (this.temp.startTime === null) {\n          this.temp['startTime'] = null\n        } else {\n          this.temp['startTime'] = Date.parse(this.temp.startTime)\n        }\n      }\n      if (typeof this.temp.endTime !== 'number') {\n        // console.log(this.temp.endTime === null)\n        if (this.temp.endTime === '在职') {\n          delete this.temp['endTime']\n        } else if (this.temp.endTime === null) {\n          this.temp['endTime'] = null\n        } else {\n          this.temp['endTime'] = Date.parse(this.temp.endTime)\n        }\n      }\n      delete this.temp['updateTime']\n      delete this.temp['isCurrent']\n      delete this.temp['createTime']\n\n      chaneWork(\n        this.temp\n      ).then(data => {\n        console.log(data)\n        this.getUserId()\n        this.dialogFormVisible = false\n      }).catch(err => {\n        console.log(err)\n      })\n    },\n    // 获取工作经历信息\n    getUserId () {\n      getUserData({\n        consumerId: this.$route.params.id\n      }).then(data => {\n        console.log(data)\n        this.list = data.data\n        if (this.list[0]['endTime'] === null) {\n          this.list[0]['endTime'] = '在职'\n        }\n      }).catch(err => {\n        console.log(err)\n      })\n    },\n  },\n  mounted () {\n    this.getUserId()\n  }\n}\n\n</script>\n\n<style lang='less' scoped>\n</style>\n"]}]}