{"remainingRequest":"C:\\Users\\jingguanran\\Desktop\\mscodevue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jingguanran\\Desktop\\mscodevue\\src\\views\\gather-info\\customer.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jingguanran\\Desktop\\mscodevue\\src\\views\\gather-info\\customer.vue","mtime":1597890678171},{"path":"C:\\Users\\jingguanran\\Desktop\\mscodevue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jingguanran\\Desktop\\mscodevue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\jingguanran\\Desktop\\mscodevue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jingguanran\\Desktop\\mscodevue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB3YXZlcyBmcm9tICdAL2RpcmVjdGl2ZS93YXZlcycgLy8gd2F2ZXMgZGlyZWN0aXZlCmltcG9ydCBQYWdpbmF0aW9uIGZyb20gJ0AvY29tcG9uZW50cy9QYWdpbmF0aW9uJyAvLyBzZWNvbmRhcnkgcGFja2FnZSBiYXNlZCBvbiBlbC1wYWdpbmF0aW9uCmltcG9ydCB7IGdldFVzZXJEYXRhLCBjaGFuZVVzZXIsIGdldENpdHksIGdldFN5c09yZ1RyZWUsIHVwVXNlciwgZGVsVXNlciB9IGZyb20gJy4uLy4uL2FwaS9nZXRVc2VyLWluZm8vdXNlcicKaW1wb3J0IHsgcGFyc2VUaW1lIH0gZnJvbSAnQC91dGlscycKaW1wb3J0IHsgdmFsaWRQaG9uZSB9IGZyb20gJ0AvdXRpbHMvcmVndWxhci9jZWxsLXBob25lJwoKaW1wb3J0IHsgZ2V0VGVtcCwgdG9MZWFkIH0gZnJvbSAnQC9hcGkvZ2V0VXNlci1pbmZvL2dldFRlbXBsYXRlJwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0N1c3RvbWVyJywKICBjb21wb25lbnRzOiB7IFBhZ2luYXRpb24gfSwKICBkaXJlY3RpdmVzOiB7IHdhdmVzIH0sCiAgZmlsdGVyczogewogICAgc3RhdHVzRmlsdGVyIChzdGF0dXMpIHsKICAgICAgY29uc3Qgc3RhdHVzTWFwID0gewogICAgICAgIDE6ICdzdWNjZXNzJywKICAgICAgICAwOiAnZGFuZ2VyJwogICAgICB9CiAgICAgIHJldHVybiBzdGF0dXNNYXBbc3RhdHVzXQogICAgfQogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBsaW1pdE51bTogMSwKICAgICAgZmlsZUxpc3Q6IFtdLAogICAgICBjZW50ZXJEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgZ2V0TXNnOiAnJywKICAgICAgdGFibGVLZXk6ICcnLAogICAgICB0b3RhbDogMCwKICAgICAgbGlzdFF1ZXJ5OiB7CiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgICAgLy8gcGFnZVNpemU6IDEwLAogICAgICAgIGNsaWVudEFjY291bnQ6IHVuZGVmaW5lZCwKICAgICAgICBlbmFibGVkOiB1bmRlZmluZWQsCiAgICAgICAgc29ydGVyOiAnY3JlYXRlVGltZV9kZXNjZW5kJwogICAgICB9LAogICAgICBsaXN0OiBbCgogICAgICBdLAogICAgICBzdGF0dXNPcHRpb25zOiBbCiAgICAgICAgeyBrZXk6ICcxJywgZGlzcGxheV9uYW1lOiB0aGlzLiR0KCdjb21tb24uYWJsZScpIH0sCiAgICAgICAgeyBrZXk6ICcwJywgZGlzcGxheV9uYW1lOiB0aGlzLiR0KCdjb21tb24uZGlzYWJsZScpIH0KICAgICAgXSwKICAgICAgdGVtcDogewogICAgICAgIGlkOiB1bmRlZmluZWQsCiAgICAgICAgZW5hYmxlZDogJycsCiAgICAgICAgY29udGFjdHNQaG9uZTogJycKICAgICAgfSwKICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLAogICAgICBkaWFsb2dTdGF0dXM6ICcnLAogICAgICB0ZXh0TWFwOiB7CiAgICAgICAgdXBkYXRlOiB0aGlzLiR0KCdjb21tb24uZWRpdCcpLAogICAgICAgIGNyZWF0ZTogdGhpcy4kdCgnY29tbW9uLmFkZCcpCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgY29udGFjdHNQaG9uZTogWwogICAgICAgICAgeyByZXF1aXJlZDogZmFsc2UsIG1lc3NhZ2U6ICfor7fovpPlhaXmraPnoa7miYvmnLrlj7fnoIEnLCB0cmlnZ2VyOiAnYmx1cicsIHZhbGlkYXRvcjogdmFsaWRQaG9uZSB9CiAgICAgICAgXQogICAgICB9LAogICAgICBzaG93Q291bnR5OiBmYWxzZSwKICAgICAgc2hvd0NpdHk6IGZhbHNlLAogICAgICBzaG93QWRkcmVzczogZmFsc2UsCiAgICAgIGxpc3RMb2FkaW5nOiBmYWxzZSwKICAgICAgZG93bmxvYWRMb2FkaW5nOiBmYWxzZSwKICAgICAgY2l0eUFsbDogW10sCiAgICAgIG9wdGlvbnM6IFtdLAogICAgICBvcHRpb25zU3lzT3JnOiBbCgogICAgICBdLAogICAgICBvcHRpb25zU3lzT3JnUHJvcHM6IHsKICAgICAgICB2YWx1ZTogJ2tleScsCiAgICAgICAgbGFiZWw6ICd0aXRsZScKICAgICAgfSwKICAgICAgb3B0aW9uUHJvcHM6IHsKICAgICAgICB2YWx1ZTogJ3JlZ2lvbklkJywKICAgICAgICBsYWJlbDogJ2Z1bGxOYW1lJwogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewoKICB9LAogIGNyZWF0ZWQgKCkgewogIH0sCiAgbW91bnRlZCAoKSB7CiAgICB0aGlzLmdldFVzZXIoKQogIH0sCiAgbWV0aG9kczogewogICAgLy8g5paH5Lu26LaF5Ye65Liq5pWw6ZmQ5Yi25pe255qE6ZKp5a2QCiAgICBleGNlZWRGaWxlIChmaWxlcywgZmlsZUxpc3QpIHsKICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKGDlj6rog73pgInmi6kgJHt0aGlzLmxpbWl0TnVtfSDkuKrmlofku7bvvIzlvZPliY3lhbHpgInmi6nkuoYgJHtmaWxlcy5sZW5ndGggKyBmaWxlTGlzdC5sZW5ndGh9IOS4qmApCiAgICB9LAogICAgLy8g5paH5Lu254q25oCB5pS55Y+Y5pe255qE6ZKp5a2QCiAgICBmaWxlQ2hhbmdlIChmaWxlLCBmaWxlTGlzdCkgewogICAgICB0aGlzLmZpbGVMaXN0LnB1c2goZmlsZS5yYXcpCiAgICB9LAogICAgLy8g5LiK5Lyg5paH5Lu25LmL5YmN55qE6ZKp5a2QLCDlj4LmlbDkuLrkuIrkvKDnmoTmlofku7Ys6Iul6L+U5ZueIGZhbHNlIOaIluiAhei/lOWbniBQcm9taXNlIOS4lOiiqyByZWplY3TvvIzliJnlgZzmraLkuIrkvKAKICAgIGJlZm9yZVVwbG9hZEZpbGUgKGZpbGUpIHsKCiAgICAgIGNvbnN0IGV4dGVuc2lvbiA9IGZpbGUubmFtZS5zdWJzdHJpbmcoZmlsZS5uYW1lLmxhc3RJbmRleE9mKCcuJykgKyAxKQogICAgICBjb25zdCBzaXplID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQKICAgICAgaWYgKGV4dGVuc2lvbiAhPT0gJ3hsc3gnIHx8IGV4dGVuc2lvbiAhPT0gJ3hscycpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+WPquiDveS4iuS8oOWQjue8gOaYr3hsc3jmiJZ4bHPnmoTmlofku7YnKQogICAgICB9CiAgICAgIGlmIChzaXplID4gMTApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+aWh+S7tuWkp+Wwj+S4jeW+l+i2hei/hzEwTScpCiAgICAgIH0KICAgIH0sCiAgICAvLyDmlofku7bkuIrkvKDmiJDlip/ml7bnmoTpkqnlrZAKICAgIGhhbmRsZVN1Y2Nlc3MgKHJlcywgZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmlofku7bkuIrkvKDmiJDlip8nKQogICAgfSwKICAgIC8vIOaWh+S7tuS4iuS8oOWksei0peaXtueahOmSqeWtkAogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGhhbmRsZS1jYWxsYmFjay1lcnIKICAgIGhhbmRsZUVycm9yIChlcnIsIGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+aWh+S7tuS4iuS8oOWksei0pScpCiAgICB9LAogICAgVXBsb2FkVXJsICgpIHsKICAgICAgLy8g5Zug5Li6YWN0aW9u5Y+C5pWw5piv5b+F5aGr6aG577yM5oiR5Lus5L2/55So5LqM5qyh56Gu6K6k6L+b6KGM5paH5Lu25LiK5Lyg5pe277yM55u05o6l5aGr5LiK5Lyg5paH5Lu255qEdXJs5Lya5Zug5Li65rKh5pyJ5Y+C5pWw5a+86Ie0YXBp5oqlNDA077yM5omA5Lul6L+Z6YeM5bCGYWN0aW9u6K6+572u5Li65LiA5Liq6L+U5Zue5Li656m655qE5pa55rOV5bCx6KGM77yM6YG/5YWN5oqb6ZSZCiAgICAgIHJldHVybiAnJwogICAgfSwKICAgIHN1Ym1pdFVwbG9hZCAoKSB7CgogICAgICBpZiAodGhpcy5maWxlTGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+S4iuS8oOaWh+S7ticpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgZm9ybSA9IG5ldyBGb3JtRGF0YSgpCiAgICAgICAgZm9ybS5hcHBlbmQoJ2ZpbGUnLCB0aGlzLmZpbGVMaXN0WzBdKQogICAgICAgIHRvTGVhZChmb3JtKS50aGVuKAogICAgICAgICAgcmVzID0+IHsKICAgICAgICAgIH0sIGVyciA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICAvLyDojrflj5bmqKHmnb8KICAgIGltcG9ydEV4YyAoKSB7CiAgICAgIGdldFRlbXAoKS50aGVuKGRhdGEgPT4gewogICAgICAgIGNvbnN0IGZpbGVOYW1lID0gJ+WuouaIt+S/oeaBr+aooeadvy54bHN4JwogICAgICAgIGNvbnN0IGxpbmtOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpCiAgICAgICAgbGlua05vZGUuZG93bmxvYWQgPSBmaWxlTmFtZQogICAgICAgIGxpbmtOb2RlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScKICAgICAgICBsaW5rTm9kZS5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChkYXRhKQogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGlua05vZGUpCiAgICAgICAgbGlua05vZGUuY2xpY2soKQogICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwobGlua05vZGUuaHJlZikgLy8g6YeK5pS+VVJMIOWvueixoQogICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGlua05vZGUpCiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICB9KQogICAgfSwKICAgIC8vIOiOt+WPlmNvZGUKICAgIGdldENvZGUgKHZhbHVlKSB7CiAgICAgIHRoaXMudGVtcFsnY29uc3VtZXJDaXR5Q29kZSddID0gdmFsdWVbMF0KICAgICAgdGhpcy50ZW1wWydjb25zdW1lckNvdW50eUNvZGUnXSA9IHZhbHVlWzFdCiAgICAgIHRoaXMudGVtcFsnY29uc3VtZXJUb3duc2hpcENvZGUnXSA9IHZhbHVlWzJdCiAgICB9LAogICAgLy8g5Yid5aeL5YyW5YiX6KGoCiAgICBhc3luYyBnZXRVc2VyICgpIHsKICAgICAgZ2V0VXNlckRhdGEodGhpcy5saXN0UXVlcnkpLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgdGhpcy5nZXRNc2cgPSBkYXRhLmRhdGEubGlzdAogICAgICAgIHRoaXMubGlzdCA9IHRoaXMuZ2V0TXNnCiAgICAgICAgdGhpcy50b3RhbCA9IGRhdGEuZGF0YS5wYWdpbmF0aW9uLnRvdGFsCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaGFuZGxlLWNhbGxiYWNrLWVycgogICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICB9KQogICAgICAvLyDojrflj5bln47luILkv6Hmga8KICAgICAgYXdhaXQgZ2V0Q2l0eSgpLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgdGhpcy5vcHRpb25zID0gSlNPTi5wYXJzZShkYXRhLmRhdGEpWzBdLmNoaWxkcmVuCiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGhhbmRsZS1jYWxsYmFjay1lcnIKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgfSkKCiAgICAgIC8vIOiOt+WPlue9keagvOS/oeaBrwogICAgICBhd2FpdCBnZXRTeXNPcmdUcmVlKCkudGhlbihkYXRhID0+IHsKICAgICAgICB0aGlzLm9wdGlvbnNTeXNPcmcgPSBkYXRhLmRhdGEubGlzdFswXS5jaGlsZHJlbgogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBoYW5kbGUtY2FsbGJhY2stZXJyCiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgIH0pCiAgICB9LAoKICAgIC8vIOWIhumhteafpeivogogICAgZ2V0TGlzdCAodmFsKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgdGhpcy5saXN0UXVlcnlbJ3BhZ2VTaXplJ10gPSB2YWwubGltaXQKICAgICAgdGhpcy5saXN0UXVlcnlbJ3BhZ2VOdW0nXSA9IHZhbC5wYWdlCiAgICAgIHRoaXMuZ2V0VXNlcigpCiAgICB9LAogICAgLy8g5p+l6K+iCiAgICBoYW5kbGVGaWx0ZXIgKHZhbCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgIHRoaXMubGlzdFF1ZXJ5Wydjb25zdW1lckFjY291bnQnXSA9IHRoaXMubGlzdFF1ZXJ5LmNsaWVudF9hY2NvdW50CiAgICAgIHRoaXMubGlzdFF1ZXJ5WydlbmFibGVkJ10gPSB0aGlzLmxpc3RRdWVyeS5lbmFibGVkCiAgICAgIHRoaXMuZ2V0VXNlcigpCiAgICB9LAogICAgLy8g6YeN572uCiAgICBoYW5kbGVSZXNldCAoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgdGhpcy5saXN0UXVlcnkuY2xpZW50X2FjY291bnQgPSAnJwogICAgICB0aGlzLmxpc3RRdWVyeS5lbmFibGVkID0gJycKICAgICAgdGhpcy5oYW5kbGVGaWx0ZXIoKQogICAgfSwKICAgIHJlc2V0VGVtcCAoKSB7CiAgICAgIHRoaXMudGVtcCA9IHsKICAgICAgICAvLyBpZDogdW5kZWZpbmVkLAogICAgICAgIGVuYWJsZWQ6IDAKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUNyZWF0ZSAoKSB7CiAgICAgIHRoaXMucmVzZXRUZW1wKCkKICAgICAgdGhpcy5kaWFsb2dTdGF0dXMgPSAnY3JlYXRlJwogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmc1snZGF0YUZvcm0nXS5jbGVhclZhbGlkYXRlKCkKICAgICAgfSkKICAgIH0sCiAgICAvLyDmlrDlop7kv6Hmga8KICAgIGNyZWF0ZURhdGEgKGRhdGFGb3JtKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgaWYgKHRoaXMudGVtcC5pbnN0YWxsZWREYXRlID09PSB1bmRlZmluZWQpIHsKICAgICAgICBkZWxldGUgdGhpcy50ZW1wWydpbnN0YWxsZWREYXRlJ10KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnRlbXBbJ2luc3RhbGxlZERhdGUnXSA9IHBhcnNlVGltZSh0aGlzLnRlbXAuaW5zdGFsbGVkRGF0ZSkuc2xpY2UoMCwgMTApCiAgICAgIH0KICAgICAgZGVsZXRlIHRoaXMudGVtcFsnY29uc3VtZXJDb3VudHknXQogICAgICBkZWxldGUgdGhpcy50ZW1wWydjb25zdW1lckhhbWxldCddCiAgICAgIGRlbGV0ZSB0aGlzLnRlbXBbJ2NvbnN1bWVyVG93bnNoaXAnXQogICAgICBkZWxldGUgdGhpcy50ZW1wWydjb25zdW1lckNpdHknXQogICAgICBkZWxldGUgdGhpcy50ZW1wWydjcmVhdGVUaW1lJ10KICAgICAgZGVsZXRlIHRoaXMudGVtcFsndXBkYXRlVGltZSddCiAgICAgIGlmICh0aGlzLnRlbXAucmVzZWF1SWQgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMudGVtcFsncmVzZWF1SWQnXSA9IHRoaXMudGVtcC5yZXNlYXVJZFsyXQogICAgICB9CiAgICAgIGNvbnN0IHZhbEFycmF5ID0gW10KICAgICAgZm9yIChjb25zdCB2YWwgaW4gdGhpcy50ZW1wKSB7CiAgICAgICAgdmFsQXJyYXkucHVzaCh2YWwpCiAgICAgIH0KICAgICAgaWYgKHZhbEFycmF5Lmxlbmd0aCA8PSAxKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKGDkuI3og73kuIrkvKDnqbrooajljZVgKQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJlZnMuZGF0YUZvcm0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgdXBVc2VyKAogICAgICAgICAgICAgIHRoaXMudGVtcAogICAgICAgICAgICApLnRoZW4oCiAgICAgICAgICAgICAgZGF0YSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkYXRhLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB0aGlzLmdldFVzZXIoKQogICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIGhhbmRsZVVwZGF0ZSAocm93KSB7CiAgICAgIHRoaXMudGVtcCA9IE9iamVjdC5hc3NpZ24oe30sIHJvdykgLy8gY29weSBvYmoKICAgICAgdGhpcy50ZW1wLkNpdHlBbGxDb2RlID0gW3Jvdy5jb25zdW1lckNpdHlDb2RlLCByb3cuY29uc3VtZXJDb3VudHlDb2RlLCByb3cuY29uc3VtZXJUb3duc2hpcENvZGVdCiAgICAgIHRoaXMuZGlhbG9nU3RhdHVzID0gJ3VwZGF0ZScKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWUKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuJHJlZnNbJ2RhdGFGb3JtJ10uY2xlYXJWYWxpZGF0ZSgpCiAgICAgIH0pCiAgICB9LAogICAgLy8g5L+u5pS55L+h5oGvCiAgICB1cGRhdGVEYXRhIChkYXRhRm9ybSkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgIHRoaXMudGVtcFsnaW5zdGFsbGVkRGF0ZSddID0gcGFyc2VUaW1lKHRoaXMudGVtcC5pbnN0YWxsZWREYXRlKS5zbGljZSgwLCAxMCkKICAgICAgZGVsZXRlIHRoaXMudGVtcFsnY29uc3VtZXJDb3VudHknXQogICAgICBkZWxldGUgdGhpcy50ZW1wWydjb25zdW1lckhhbWxldCddCiAgICAgIGRlbGV0ZSB0aGlzLnRlbXBbJ2NvbnN1bWVyVG93bnNoaXAnXQogICAgICBkZWxldGUgdGhpcy50ZW1wWydjb25zdW1lckNpdHknXQogICAgICBkZWxldGUgdGhpcy50ZW1wWydjcmVhdGVUaW1lJ10KICAgICAgZGVsZXRlIHRoaXMudGVtcFsndXBkYXRlVGltZSddCiAgICAgIHRoaXMuJHJlZnMuZGF0YUZvcm0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBjaGFuZVVzZXIodGhpcy50ZW1wKS50aGVuKGRhdGEgPT4gewogICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlLAogICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuZ2V0VXNlcigpCiAgICAgICAgICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIC8vIOWIoOmZpOeUqOaIt+S/oeaBrwogICAgaGFuZGxlRGVsZXRlIChyb3csIGluZGV4KSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgZGVsVXNlcih7CiAgICAgICAgaWQ6IHJvdy5pZAogICAgICB9KS50aGVuKAogICAgICAgIGRhdGEgPT4gewogICAgICAgICAgdGhpcy5nZXRVc2VyKCkKICAgICAgICB9CiAgICAgICkuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlRG93bmxvYWQgKCkgewogICAgICB0aGlzLmRvd25sb2FkTG9hZGluZyA9IHRydWUKICAgICAgaW1wb3J0KCdAL3ZlbmRvci9FeHBvcnQyRXhjZWwnKS50aGVuKGV4Y2VsID0+IHsKICAgICAgICBjb25zdCB0SGVhZGVyID0gW3RoaXMuJHQoJ2N1c3RvbWVyLmNsaWVudE5hbWUnKSwgdGhpcy4kdCgnY3VzdG9tZXIuY29udGFjdHNOYW1lJyksIHRoaXMuJHQoJ2N1c3RvbWVyLmNvbnRhY3RzUGhvbmUnKSwKICAgICAgICB0aGlzLiR0KCdjdXN0b21lci5jbGllbnRBY2NvdW50JyksIHRoaXMuJHQoJ2N1c3RvbWVyLmNsaWVudENpdHknKSwgdGhpcy4kdCgnY3VzdG9tZXIuY2xpZW50Q291bnR5JyksCiAgICAgICAgdGhpcy4kdCgnY3VzdG9tZXIuY2xpZW50QWRkcmVzcycpLCB0aGlzLiR0KCdjdXN0b21lci5pbnN0YWxsZWREYXRlJyksIHRoaXMuJHQoJ2N1c3RvbWVyLmVuYWJsZWQnKV0KICAgICAgICBjb25zdCBmaWx0ZXJWYWwgPSBbJ2NvbnN1bWVyTmFtZScsICdjb250YWN0c05hbWUnLCAnY29udGFjdHNQaG9uZScsICdjb25zdW1lckFjY291bnQnLCAnY29uc3VtZXJDaXR5JywgJ2NsaWVudENvdW50eScsICdjb25zdW1lckFkZHJlc3MnLCAnaW5zdGFsbGVkRGF0ZScsICdlbmFibGVkJ10KICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5mb3JtYXRKc29uKGZpbHRlclZhbCkKICAgICAgICBleGNlbC5leHBvcnRfanNvbl90b19leGNlbCh7CiAgICAgICAgICBoZWFkZXI6IHRIZWFkZXIsCiAgICAgICAgICBkYXRhLAogICAgICAgICAgZmlsZW5hbWU6IHRoaXMuJHQoJ3JvdXRlLmNsaWVudF9pbmZvJykKICAgICAgICB9KQogICAgICAgIHRoaXMuZG93bmxvYWRMb2FkaW5nID0gZmFsc2UKICAgICAgfSkKICAgIH0sCiAgICBmb3JtYXRKc29uIChmaWx0ZXJWYWwpIHsKICAgICAgcmV0dXJuIHRoaXMubGlzdC5tYXAodiA9PiBmaWx0ZXJWYWwubWFwKGogPT4gewogICAgICAgIGlmIChqID09PSAnaW5zdGFsbGVkRGF0ZScpIHsKICAgICAgICAgIHJldHVybiBwYXJzZVRpbWUodltqXSkKICAgICAgICB9IGVsc2UgaWYgKGogPT09ICdlbmFibGVkJykgewogICAgICAgICAgaWYgKHZbal0gPT09IDEpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHQoJ2NvbW1vbi5hYmxlJykKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLiR0KCdjb21tb24uZGlzYWJsZScpCiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiB2W2pdCiAgICAgICAgfQogICAgICB9KSkKICAgIH0sCiAgICAvLyDot6/nlLHkvKDlj4Ig6Lez6L2s5YiwdGFi6aG16Z2iCiAgICBnb1VzZXIgKHJvdykgewogICAgICB2YXIgaWQgPSByb3cuaWQKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiBgVXNlckRldGFpbHMvaW5kZXgvJHtpZH1gIH0pCiAgICB9CgogIH0KfQo="},{"version":3,"sources":["customer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqaA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"customer.vue","sourceRoot":"src/views/gather-info","sourcesContent":["<template>\n  <div\n    class=\"app-container\"\n    v-loading=\"loading\"\n  >\n    <div class=\"filter-container\">\n      <el-input\n        v-model=\"listQuery.client_account\"\n        :placeholder=\"$t('customer.clientAccount')\"\n        clearable\n        style=\"width: 200px;\"\n        class=\"filter-item\"\n        @keyup.enter.native=\"handleFilter\"\n      />\n      <el-select\n        v-model=\"listQuery.enabled\"\n        :placeholder=\"$t('customer.enabled')\"\n        clearable\n        style=\"width: 200px\"\n        class=\"filter-item\"\n      >\n        <el-option\n          v-for=\"item in statusOptions\"\n          :key=\"item.key\"\n          :label=\"item.display_name\"\n          :value=\"item.key\"\n        />\n      </el-select>\n      <el-button\n        v-waves\n        class=\"filter-item\"\n        type=\"primary\"\n        icon=\"el-icon-search\"\n        @click=\"handleFilter\"\n      >\n        {{ $t('common.query') }}\n      </el-button>\n      <el-button\n        v-waves\n        class=\"filter-item\"\n        type=\"primary\"\n        icon=\"el-icon-refresh-right\"\n        @click=\"handleReset\"\n      >\n        {{ $t('common.reset') }}\n      </el-button>\n      <el-button\n        class=\"filter-item\"\n        style=\"margin-left: 10px;\"\n        type=\"primary\"\n        icon=\"el-icon-plus\"\n        @click=\"handleCreate\"\n      >\n        {{ $t('common.add') }}\n      </el-button>\n      <el-button\n        v-waves\n        :loading=\"downloadLoading\"\n        class=\"filter-item\"\n        type=\"primary\"\n        icon=\"el-icon-download\"\n        @click=\"handleDownload\"\n      >\n        {{ $t('common.export') }}\n      </el-button>\n      <el-button\n        type=\"text\"\n        @click=\"centerDialogVisible = true\"\n      >{{ $t('common.batchoPeration') }}</el-button>\n      <el-checkbox\n        v-model=\"showCity\"\n        class=\"filter-item\"\n        style=\"margin-left:15px;\"\n      >\n        {{ $t('customer.clientCity') }}\n      </el-checkbox>\n      <el-checkbox\n        v-model=\"showCounty\"\n        class=\"filter-item\"\n        style=\"margin-left:15px;\"\n      >\n        {{ $t('customer.clientCounty') }}\n      </el-checkbox>\n      <el-checkbox\n        v-model=\"showAddress\"\n        class=\"filter-item\"\n        style=\"margin-left:15px;\"\n      >\n        {{ $t('customer.clientAddress') }}\n      </el-checkbox>\n    </div>\n\n    <el-table\n      v-loading=\"listLoading\"\n      row-key=\"id\"\n      :data=\"list\"\n      border\n      fit\n      highlight-current-row\n      style=\"width: 100%;\"\n    >\n      <el-table-column :label=\"$t('customer.clientName')\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.consumerName }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column :label=\"$t('customer.contactsName')\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.contactsName }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column :label=\"$t('customer.contactsPhone')\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.contactsPhone }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column :label=\"$t('customer.clientAccount')\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.consumerAccount }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        v-if=\"showCity\"\n        :label=\"$t('customer.clientCity')\"\n      >\n        <template slot-scope=\"{row}\">\n          <span>{{ row.consumerCity }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        v-if=\"showCounty\"\n        :label=\"$t('customer.clientCounty')\"\n      >\n        <template slot-scope=\"{row}\">\n          <span>{{ row.consumerCounty }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column :label=\"$t('customer.clientTownship')\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.consumerTownship }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column :label=\"$t('customer.clientHamlet')\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.consumerHamlet }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        v-if=\"showAddress\"\n        :label=\"$t('customer.clientAddress')\"\n      >\n        <template slot-scope=\"{row}\">\n          <span>{{ row.consumerAddress }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        :label=\"$t('customer.installedDate')\"\n        min-width=\"100px\"\n      >\n        <template slot-scope=\"{row}\">\n          <span>{{ row.installedDate | parseTime('{y}-{m}-{d}') }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        :label=\"$t('customer.enabled')\"\n        class-name=\"status-col\"\n      >\n        <template slot-scope=\"{row}\">\n          <el-tag :type=\"row.enabled | statusFilter\">\n            <span v-if=\"row.enabled === 1\">{{ $t('common.able') }}</span>\n            <span v-else>{{ $t('common.disable') }}</span>\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column\n        :label=\"$t('common.operate')\"\n        min-width=\"100px\"\n        align=\"center\"\n        class-name=\"small-padding fixed-width\"\n      >\n        <template slot-scope=\"{row}\">\n          <el-button\n            type=\"primary\"\n            size=\"mini\"\n            @click=\"goUser(row)\"\n          >\n            {{ $t('common.detail') }}\n          </el-button>\n          <el-button\n            type=\"primary\"\n            size=\"mini\"\n            style=\"margin-right: 5px\"\n            @click=\"handleUpdate(row)\"\n          >\n            {{ $t('common.edit') }}\n          </el-button>\n          <el-popover\n            :ref=\"'popover-' + row.id\"\n            placement=\"top\"\n            width=\"160\"\n            :title=\"$t('common.confirm-delete')\"\n            trigger=\"click\"\n          >\n\n            <div style=\"text-align: right; margin: 0\">\n              <el-button\n                size=\"mini\"\n                @click=\"$refs[`popover-` + row.id].doClose()\"\n              >{{ $t('common.cancel') }}</el-button>\n              <el-button\n                type=\"primary\"\n                size=\"mini\"\n                @click=\"$refs[`popover-` + row.id].doClose();handleDelete(row,$index)\"\n              >{{ $t('common.confirm') }}</el-button>\n            </div>\n            <el-button\n              slot=\"reference\"\n              type=\"danger\"\n              size=\"mini\"\n            >\n              {{ $t('common.delete') }}\n            </el-button>\n          </el-popover>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"listQuery.currentPage\"\n      :limit.sync=\"listQuery.pageSize\"\n      @pagination=\"getList\"\n    />\n\n    <el-dialog\n      :title=\"textMap[dialogStatus]\"\n      :visible.sync=\"dialogFormVisible\"\n    >\n      <el-form\n        ref=\"dataForm\"\n        :rules=\"rules\"\n        :model=\"temp\"\n        label-position=\"right\"\n        label-width=\"90px\"\n        style=\"width: 100%\"\n      >\n        <el-form-item\n          :label=\"$t('customer.clientName')\"\n          prop=\"consumerName\"\n        >\n          <el-input\n            v-model=\"temp.consumerName\"\n            :placeholder=\"$t('common.enter')\"\n            minlength=\"3\"\n            maxlength=\"50\"\n            clearable\n          />\n        </el-form-item>\n        <el-form-item\n          :label=\"$t('customer.contactsName')\"\n          prop=\"contactsName\"\n        >\n          <el-input\n            v-model=\"temp.contactsName\"\n            :placeholder=\"$t('common.enter')\"\n            minlength=\"3\"\n            maxlength=\"50\"\n            clearable\n          />\n        </el-form-item>\n        <el-form-item\n          :label=\"$t('customer.contactsPhone')\"\n          prop=\"contactsPhone\"\n        >\n          <el-input\n            v-model=\"temp.contactsPhone\"\n            :placeholder=\"$t('common.enter')\"\n            minlength=\"11\"\n            maxlength=\"50\"\n            clearable\n          />\n        </el-form-item>\n        <el-form-item\n          :label=\"$t('customer.clientAccount')\"\n          prop=\"consumerAccount\"\n        >\n          <el-input\n            v-model=\"temp.consumerAccount\"\n            :placeholder=\"$t('common.enter')\"\n            minlength=\"3\"\n            maxlength=\"64\"\n            clearable\n          />\n        </el-form-item>\n        <el-form-item\n          :label=\"$t('customer.clientCity')\"\n          prop=\"CityAllCode\"\n        >\n          <el-cascader\n            v-model=\"temp.CityAllCode\"\n            :options=\"options\"\n            clearable\n            style=\"width: 100%\"\n            :props=\"optionProps\"\n            @change=\"getCode\"\n          />\n        </el-form-item>\n        <el-form-item\n          :label=\"$t('customer.SysOrg')\"\n          prop=\"reseauId\"\n        >\n          <el-cascader\n            v-model=\"temp.reseauId\"\n            :options=\"optionsSysOrg\"\n            clearable\n            style=\"width: 100%\"\n            :props=\"optionsSysOrgProps\"\n          />\n        </el-form-item>\n        <el-form-item\n          :label=\"$t('customer.clientAddress')\"\n          prop=\"consumerAddress\"\n        >\n          <el-input\n            v-model=\"temp.consumerAddress\"\n            type=\"textarea\"\n            autosize\n            :placeholder=\"$t('common.enter')\"\n            minlength=\"3\"\n            maxlength=\"200\"\n            clearable\n          />\n        </el-form-item>\n        <el-form-item\n          :label=\"$t('customer.installedDate')\"\n          prop=\"installedDate\"\n        >\n          <el-date-picker\n            v-model=\"temp.installedDate\"\n            type=\"date\"\n            :placeholder=\"$t('common.enter')\"\n            style=\"width: 100%\"\n          />\n        </el-form-item>\n        <el-form-item\n          :label=\"$t('customer.enabled')\"\n          prop=\"enabled\"\n        >\n          <el-radio-group v-model=\"temp.enabled\">\n            <el-radio :label=\"1\">{{ $t('common.able') }}</el-radio>\n            <el-radio :label=\"0\">{{ $t('common.disable') }}</el-radio>\n          </el-radio-group>\n        </el-form-item>\n      </el-form>\n      <div\n        slot=\"footer\"\n        class=\"dialog-footer\"\n      >\n        <el-button @click=\"dialogFormVisible = false,loading=false\">\n          {{ $t('common.cancel') }}\n        </el-button>\n        <el-button\n          type=\"primary\"\n          @click=\"dialogStatus==='create'?createData('dynamicValidateForm'):updateData('dynamicValidateForm')\"\n        >\n          {{ $t('common.confirm') }}\n        </el-button>\n      </div>\n    </el-dialog>\n    <!-- 批量操作 -->\n    <el-dialog\n      title=\"批量操作\"\n      :visible.sync=\"centerDialogVisible\"\n      width=\"50%\"\n      center\n    >\n      <el-button\n        v-waves\n        :loading=\"downloadLoading\"\n        class=\"filter-item\"\n        type=\"primary\"\n        icon=\"el-icon-download\"\n        @click=\"importExc\"\n      >\n        {{ $t('common.import') }}\n      </el-button>\n      <el-upload\n        ref=\"upload\"\n        drag\n        :limit=\"limitNum\"\n        :auto-upload=\"false\"\n        accept=\".xlsx,.xls\"\n        :action=\"UploadUrl()\"\n        :before-upload=\"beforeUploadFile\"\n        :on-change=\"fileChange\"\n        :on-exceed=\"exceedFile\"\n        :on-success=\"handleSuccess\"\n        :on-error=\"handleError\"\n        :file-list=\"fileList\"\n      >\n\n        <i class=\"el-icon-upload\" />\n        <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\n        <div\n          class=\"el-upload__tip\"\n          slot=\"tip\"\n        >只能上传xlsx文件，且不超过10M</div>\n      </el-upload>\n\n      <el-button\n        size=\"small\"\n        type=\"primary\"\n        @click=\"submitUpload\"\n      >立即上传</el-button>\n      <el-button size=\"small\">取消</el-button>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport waves from '@/directive/waves' // waves directive\nimport Pagination from '@/components/Pagination' // secondary package based on el-pagination\nimport { getUserData, chaneUser, getCity, getSysOrgTree, upUser, delUser } from '../../api/getUser-info/user'\nimport { parseTime } from '@/utils'\nimport { validPhone } from '@/utils/regular/cell-phone'\n\nimport { getTemp, toLead } from '@/api/getUser-info/getTemplate'\nexport default {\n  name: 'Customer',\n  components: { Pagination },\n  directives: { waves },\n  filters: {\n    statusFilter (status) {\n      const statusMap = {\n        1: 'success',\n        0: 'danger'\n      }\n      return statusMap[status]\n    }\n  },\n  data () {\n    return {\n      limitNum: 1,\n      fileList: [],\n      centerDialogVisible: false,\n      loading: true,\n      getMsg: '',\n      tableKey: '',\n      total: 0,\n      listQuery: {\n        pageNum: 1,\n        pageSize: 10,\n        currentPage: 1,\n        // pageSize: 10,\n        clientAccount: undefined,\n        enabled: undefined,\n        sorter: 'createTime_descend'\n      },\n      list: [\n\n      ],\n      statusOptions: [\n        { key: '1', display_name: this.$t('common.able') },\n        { key: '0', display_name: this.$t('common.disable') }\n      ],\n      temp: {\n        id: undefined,\n        enabled: '',\n        contactsPhone: ''\n      },\n      dialogFormVisible: false,\n      dialogStatus: '',\n      textMap: {\n        update: this.$t('common.edit'),\n        create: this.$t('common.add')\n      },\n      rules: {\n        contactsPhone: [\n          { required: false, message: '请输入正确手机号码', trigger: 'blur', validator: validPhone }\n        ]\n      },\n      showCounty: false,\n      showCity: false,\n      showAddress: false,\n      listLoading: false,\n      downloadLoading: false,\n      cityAll: [],\n      options: [],\n      optionsSysOrg: [\n\n      ],\n      optionsSysOrgProps: {\n        value: 'key',\n        label: 'title'\n      },\n      optionProps: {\n        value: 'regionId',\n        label: 'fullName'\n      }\n    }\n  },\n  computed: {\n\n  },\n  created () {\n  },\n  mounted () {\n    this.getUser()\n  },\n  methods: {\n    // 文件超出个数限制时的钩子\n    exceedFile (files, fileList) {\n      this.$message.warning(`只能选择 ${this.limitNum} 个文件，当前共选择了 ${files.length + fileList.length} 个`)\n    },\n    // 文件状态改变时的钩子\n    fileChange (file, fileList) {\n      this.fileList.push(file.raw)\n    },\n    // 上传文件之前的钩子, 参数为上传的文件,若返回 false 或者返回 Promise 且被 reject，则停止上传\n    beforeUploadFile (file) {\n\n      const extension = file.name.substring(file.name.lastIndexOf('.') + 1)\n      const size = file.size / 1024 / 1024\n      if (extension !== 'xlsx' || extension !== 'xls') {\n        this.$message.warning('只能上传后缀是xlsx或xls的文件')\n      }\n      if (size > 10) {\n        this.$message.warning('文件大小不得超过10M')\n      }\n    },\n    // 文件上传成功时的钩子\n    handleSuccess (res, file, fileList) {\n      this.$message.success('文件上传成功')\n    },\n    // 文件上传失败时的钩子\n    // eslint-disable-next-line handle-callback-err\n    handleError (err, file, fileList) {\n      this.$message.error('文件上传失败')\n    },\n    UploadUrl () {\n      // 因为action参数是必填项，我们使用二次确认进行文件上传时，直接填上传文件的url会因为没有参数导致api报404，所以这里将action设置为一个返回为空的方法就行，避免抛错\n      return ''\n    },\n    submitUpload () {\n\n      if (this.fileList.length === 0) {\n        this.$message.warning('请上传文件')\n      } else {\n        const form = new FormData()\n        form.append('file', this.fileList[0])\n        toLead(form).then(\n          res => {\n          }, err => {\n            console.log(err)\n          })\n      }\n    },\n    // 获取模板\n    importExc () {\n      getTemp().then(data => {\n        const fileName = '客户信息模板.xlsx'\n        const linkNode = document.createElement('a')\n        linkNode.download = fileName\n        linkNode.style.display = 'none'\n        linkNode.href = URL.createObjectURL(data)\n        document.body.appendChild(linkNode)\n        linkNode.click()\n        URL.revokeObjectURL(linkNode.href) // 释放URL 对象\n        document.body.removeChild(linkNode)\n      }).catch(err => {\n        console.log(err)\n      })\n    },\n    // 获取code\n    getCode (value) {\n      this.temp['consumerCityCode'] = value[0]\n      this.temp['consumerCountyCode'] = value[1]\n      this.temp['consumerTownshipCode'] = value[2]\n    },\n    // 初始化列表\n    async getUser () {\n      getUserData(this.listQuery).then(data => {\n        this.getMsg = data.data.list\n        this.list = this.getMsg\n        this.total = data.data.pagination.total\n        this.loading = false\n        // eslint-disable-next-line handle-callback-err\n      }).catch(err => {\n      })\n      // 获取城市信息\n      await getCity().then(data => {\n        this.options = JSON.parse(data.data)[0].children\n        // eslint-disable-next-line handle-callback-err\n      }).catch(err => {\n      })\n\n      // 获取网格信息\n      await getSysOrgTree().then(data => {\n        this.optionsSysOrg = data.data.list[0].children\n        // eslint-disable-next-line handle-callback-err\n      }).catch(err => {\n      })\n    },\n\n    // 分页查询\n    getList (val) {\n      this.loading = true\n      this.listQuery['pageSize'] = val.limit\n      this.listQuery['pageNum'] = val.page\n      this.getUser()\n    },\n    // 查询\n    handleFilter (val) {\n      this.loading = true\n      this.listQuery['consumerAccount'] = this.listQuery.client_account\n      this.listQuery['enabled'] = this.listQuery.enabled\n      this.getUser()\n    },\n    // 重置\n    handleReset () {\n      this.loading = true\n      this.listQuery.client_account = ''\n      this.listQuery.enabled = ''\n      this.handleFilter()\n    },\n    resetTemp () {\n      this.temp = {\n        // id: undefined,\n        enabled: 0\n      }\n    },\n    handleCreate () {\n      this.resetTemp()\n      this.dialogStatus = 'create'\n      this.dialogFormVisible = true\n      this.$nextTick(() => {\n        this.$refs['dataForm'].clearValidate()\n      })\n    },\n    // 新增信息\n    createData (dataForm) {\n      this.loading = true\n      if (this.temp.installedDate === undefined) {\n        delete this.temp['installedDate']\n      } else {\n        this.temp['installedDate'] = parseTime(this.temp.installedDate).slice(0, 10)\n      }\n      delete this.temp['consumerCounty']\n      delete this.temp['consumerHamlet']\n      delete this.temp['consumerTownship']\n      delete this.temp['consumerCity']\n      delete this.temp['createTime']\n      delete this.temp['updateTime']\n      if (this.temp.reseauId !== undefined) {\n        this.temp['reseauId'] = this.temp.reseauId[2]\n      }\n      const valArray = []\n      for (const val in this.temp) {\n        valArray.push(val)\n      }\n      if (valArray.length <= 1) {\n        this.$message.warning(`不能上传空表单`)\n      } else {\n        this.$refs.dataForm.validate((valid) => {\n          if (valid) {\n            upUser(\n              this.temp\n            ).then(\n              data => {\n                if (data.status === 409) {\n                  this.$message({\n                    message: data.message,\n                    type: 'warning'\n                  })\n                  this.loading = false\n                } else {\n                  this.getUser()\n                  this.dialogFormVisible = false\n                  this.loading = false\n                }\n              }\n            ).catch(err => {\n              console.log(err)\n            })\n          }\n        })\n      }\n    },\n    handleUpdate (row) {\n      this.temp = Object.assign({}, row) // copy obj\n      this.temp.CityAllCode = [row.consumerCityCode, row.consumerCountyCode, row.consumerTownshipCode]\n      this.dialogStatus = 'update'\n      this.dialogFormVisible = true\n      this.$nextTick(() => {\n        this.$refs['dataForm'].clearValidate()\n      })\n    },\n    // 修改信息\n    updateData (dataForm) {\n      this.loading = true\n      this.temp['installedDate'] = parseTime(this.temp.installedDate).slice(0, 10)\n      delete this.temp['consumerCounty']\n      delete this.temp['consumerHamlet']\n      delete this.temp['consumerTownship']\n      delete this.temp['consumerCity']\n      delete this.temp['createTime']\n      delete this.temp['updateTime']\n      this.$refs.dataForm.validate((valid) => {\n        if (valid) {\n          chaneUser(this.temp).then(data => {\n            if (data.status === 409) {\n              this.$message({\n                message: data.message,\n                type: 'warning'\n              })\n              this.loading = false\n            } else {\n              this.getUser()\n              this.dialogFormVisible = false\n            }\n          }).catch(err => {\n            console.log(err)\n          })\n        }\n      })\n    },\n    // 删除用户信息\n    handleDelete (row, index) {\n      this.loading = true\n      delUser({\n        id: row.id\n      }).then(\n        data => {\n          this.getUser()\n        }\n      ).catch(err => {\n        console.log(err)\n      })\n    },\n    handleDownload () {\n      this.downloadLoading = true\n      import('@/vendor/Export2Excel').then(excel => {\n        const tHeader = [this.$t('customer.clientName'), this.$t('customer.contactsName'), this.$t('customer.contactsPhone'),\n        this.$t('customer.clientAccount'), this.$t('customer.clientCity'), this.$t('customer.clientCounty'),\n        this.$t('customer.clientAddress'), this.$t('customer.installedDate'), this.$t('customer.enabled')]\n        const filterVal = ['consumerName', 'contactsName', 'contactsPhone', 'consumerAccount', 'consumerCity', 'clientCounty', 'consumerAddress', 'installedDate', 'enabled']\n        const data = this.formatJson(filterVal)\n        excel.export_json_to_excel({\n          header: tHeader,\n          data,\n          filename: this.$t('route.client_info')\n        })\n        this.downloadLoading = false\n      })\n    },\n    formatJson (filterVal) {\n      return this.list.map(v => filterVal.map(j => {\n        if (j === 'installedDate') {\n          return parseTime(v[j])\n        } else if (j === 'enabled') {\n          if (v[j] === 1) {\n            return this.$t('common.able')\n          } else {\n            return this.$t('common.disable')\n          }\n        } else {\n          return v[j]\n        }\n      }))\n    },\n    // 路由传参 跳转到tab页面\n    goUser (row) {\n      var id = row.id\n      this.$router.push({ path: `UserDetails/index/${id}` })\n    }\n\n  }\n}\n</script>\n\n"]}]}